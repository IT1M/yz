<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ميس للمنتجات الطبية - الموارد البشرية</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="nav-container container">
            <a href="#home" class="logo">ميس للمنتجات الطبية</a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="#home">الرئيسية</a></li>
                    <li><a href="#culture">ثقافة العمل</a></li>
                    <li><a href="#jobs">الوظائف</a></li>
                    <li><a href="#contact">تواصل معنا</a></li>
                </ul>
            </nav>
            <div class="user-menu">
                <i class="fas fa-user-circle user-icon" onclick="toggleUserMenu()"></i>
                <div class="dropdown" id="userDropdown">
                    <a href="#" onclick="showLoginModal()">تسجيل الدخول</a>
                    <a href="#" onclick="showRegisterModal()">إنشاء حساب جديد</a>
                    <!-- سيتم تحديث هذا عند تسجيل الدخول -->
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero Section -->
        <section id="home" class="hero">
            <div class="hero-content">
                <h1>انضم إلى فريق يبتكر لمستقبل الرعاية الصحية</h1>
                <p>في ميس للمنتجات الطبية، نصنع الفرق. نبحث عن مواهب شغوفة للمساهمة في تطوير حلول طبية رائدة تحدث تأثيرًا إيجابيًا في حياة الناس.</p>
                <a href="#jobs" class="cta-button">استكشف الفرص الوظيفية <i class="fas fa-arrow-left"></i></a>
            </div>
        </section>

        <!-- Company Culture Section -->
        <section id="culture" class="section">
            <div class="container">
                <h2 class="section-title">ثقافتنا في ميس</h2>
                <div class="culture-grid">
                    <div class="culture-card">
                        <i class="fas fa-heartbeat"></i>
                        <h3>الرعاية أولاً</h3>
                        <p>نضع صحة ورفاهية مرضانا وموظفينا في صميم كل ما نقوم به.</p>
                    </div>
                    <div class="culture-card">
                        <i class="fas fa-rocket"></i>
                        <h3>الابتكار المستدام</h3>
                        <p>نشجع على التفكير الإبداعي وندعم الحلول التي تحدث تطوراً حقيقياً.</p>
                    </div>
                    <div class="culture-card">
                        <i class="fas fa-handshake"></i>
                        <h3>التعاون المثمر</h3>
                        <p>نؤمن بقوة العمل الجماعي ونعزز بيئة داعمة وشاملة للجميع.</p>
                    </div>
                    <div class="culture-card">
                        <i class="fas fa-medal"></i>
                        <h3>السعي للتميز</h3>
                        <p>نلتزم بأعلى معايير الجودة ونسعى للريادة في مجالنا.</p>
                    </div>
                    <div class="culture-card">
                        <i class="fas fa-seedling"></i>
                        <h3>النمو والتطور</h3>
                        <p>نوفر فرصًا للتعلم المستمر والتطور المهني والشخصي.</p>
                    </div>
                    <div class="culture-card">
                        <i class="fas fa-shield-alt"></i>
                        <h3>النزاهة والشفافية</h3>
                        <p>نعمل بأمانة ونلتزم بالشفافية في جميع تعاملاتنا.</p>
                    </div>
                </div>

                <h3 style="text-align: center; margin: 4rem 0 2.5rem; color: #2c3e50; font-size: 1.8rem;">لماذا ميس؟</h3>
                <div class="culture-grid">
                     <div class="culture-card">
                        <i class="fas fa-briefcase-medical"></i>
                        <h3>تأثير حقيقي</h3>
                        <p>ساهم في تطوير منتجات وحلول طبية تُحدث فرقًا في حياة الناس.</p>
                    </div>
                    <div class="culture-card">
                        <i class="fas fa-chart-line"></i>
                        <h3>فرص نمو</h3>
                        <p>نستثمر في تطوير مهاراتك ونوفر مسارات وظيفية واعدة.</p>
                    </div>
                    <div class="culture-card">
                        <i class="fas fa-users-cog"></i>
                        <h3>بيئة ملهمة</h3>
                        <p>انضم إلى فريق من الخبراء والمبدعين في بيئة عمل محفزة.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Jobs Section -->
        <section id="jobs" class="section jobs-section">
            <div class="container">
                <h2 class="section-title">انضم إلى فريقنا</h2>
                <div class="filters">
                    <select class="filter-select" id="departmentFilter" onchange="filterJobsDisplay()">
                        <option value="">جميع الأقسام</option>
                        </select>
                    <select class="filter-select" id="locationFilter" onchange="filterJobsDisplay()">
                        <option value="">جميع المواقع</option>
                        </select>
                    <select class="filter-select" id="typeFilter" onchange="filterJobsDisplay()">
                        <option value="">جميع أنواع الدوام</option>
                        </select>
                </div>
                <div class="jobs-grid" id="jobsGridContainer">
                    <!-- سيتم تحميل بطاقات الوظائف هنا بواسطة JavaScript -->
                    <p id="noJobsMessage" style="text-align:center; color: #555; display:none;">لا توجد وظائف تطابق معايير البحث الحالية.</p>
                </div>
                <div style="text-align: center; margin-top: 3rem;">
                    <button class="cta-button" onclick="showGeneralApplicationModal()">
                        <i class="fas fa-paper-plane"></i> قدم سيرتك الذاتية (تقديم عام)
                    </button>
                </div>
            </div>
        </section>

         <!-- Contact Us Section (Placeholder) -->
        <section id="contact" class="section">
            <div class="container">
                <h2 class="section-title">تواصل معنا</h2>
                <p style="text-align:center; font-size: 1.1rem; color: #555;">
                    إذا كانت لديك أي استفسارات أو ترغب في معرفة المزيد عن فرص العمل في ميس للمنتجات الطبية، فلا تتردد في التواصل معنا.
                </p>
                <p style="text-align:center; font-size: 1.2rem; color: #3498db; margin-top: 1rem;">
                    البريد الإلكتروني: <a href="mailto:careers@mays-medical.com" style="color: #3498db;">careers@mays-medical.com</a><br>
                    الهاتف: <a href="tel:+966112345678" style="color: #3498db;">+966 11 234 5678</a> (مثال)
                </p>
            </div>
        </section>
    </main>

    <!-- Support Chat -->
    <div class="support-chat">
        <button class="chat-toggle" onclick="toggleChatWindow()" aria-label="افتح نافذة الدردشة">
            <i class="fas fa-headset"></i>
        </button>
        <div class="chat-window" id="chatWindowContainer">
            <div class="chat-header">
                <h4>مساعد ميس الذكي</h4>
                <button onclick="toggleChatWindow()" style="background: none; border: none; color: white; cursor: pointer; font-size: 1.2rem;" aria-label="اغلق نافذة الدردشة">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chat-options">
                <button class="chat-option active" id="chatModeTextBtn" onclick="selectChatMode('text')">
                    <i class="fas fa-keyboard"></i> كتابي
                </button>
                <button class="chat-option" id="chatModeVoiceBtn" onclick="selectChatMode('voice')">
                    <i class="fas fa-microphone-alt"></i> صوتي
                </button>
            </div>
            <div class="chat-messages" id="chatMessagesContainer">
                <div class="message bot">
                    مرحباً بك! أنا مساعدك الذكي من ميس. كيف يمكنني خدمتك اليوم؟ (مثلاً: اسأل عن وظائف شاغرة، ثقافة الشركة، كيفية التقديم)
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chatInputControl" placeholder="اكتب رسالتك..." onkeypress="handleChatInputKeyPress(event)">
                <button id="sendChatMsgBtn" onclick="sendUserChatMessage()" aria-label="إرسال الرسالة">
                    <i class="fas fa-paper-plane"></i>
                </button>
                <button id="voiceRecognitionBtn" style="display: none;" onclick="toggleVoiceRecognition()" aria-label="بدء/إيقاف التسجيل الصوتي">
                    <i class="fas fa-microphone"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Modals: Login, Register, Job Details, Application, General Application, Add Job -->
    <!-- Login Modal -->
    <div class="modal" id="loginModalContainer">
        <div class="modal-content">
            <div class="modal-header">
                <h3>تسجيل الدخول</h3>
                <button class="close-btn" onclick="closeActiveModal()">&times;</button>
            </div>
            <form id="loginFormElement" onsubmit="handleUserLogin(event)">
                <div class="form-group">
                    <label for="loginEmailInput">البريد الإلكتروني:</label>
                    <input type="email" id="loginEmailInput" required>
                </div>
                <div class="form-group">
                    <label for="loginPasswordInput">كلمة المرور:</label>
                    <input type="password" id="loginPasswordInput" required>
                </div>
                <button type="submit" class="submit-btn">تسجيل الدخول</button>
                <p style="text-align: center; margin-top: 1rem; font-size: 0.9rem;">
                    ليس لديك حساب؟ <a href="#" onclick="showRegisterModalFromLogin()" style="color: #3498db;">أنشئ حسابًا جديدًا</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Register Modal -->
     <div class="modal" id="registerModalContainer">
        <div class="modal-content">
            <div class="modal-header">
                <h3>إنشاء حساب جديد</h3>
                <button class="close-btn" onclick="closeActiveModal()">&times;</button>
            </div>
            <form id="registerFormElement" onsubmit="handleUserRegister(event)">
                <div class="form-group">
                    <label for="registerNameInput">الاسم الكامل:</label>
                    <input type="text" id="registerNameInput" required>
                </div>
                <div class="form-group">
                    <label for="registerEmailInput">البريد الإلكتروني:</label>
                    <input type="email" id="registerEmailInput" required>
                </div>
                <div class="form-group">
                    <label for="registerPhoneInput">رقم الهاتف:</label>
                    <input type="tel" id="registerPhoneInput">
                </div>
                <div class="form-group">
                    <label for="registerPasswordInput">كلمة المرور:</label>
                    <input type="password" id="registerPasswordInput" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="confirmPasswordInput">تأكيد كلمة المرور:</label>
                    <input type="password" id="confirmPasswordInput" required minlength="6">
                </div>
                <button type="submit" class="submit-btn">إنشاء الحساب</button>
                 <p style="text-align: center; margin-top: 1rem; font-size: 0.9rem;">
                    لديك حساب بالفعل؟ <a href="#" onclick="showLoginModalFromRegister()" style="color: #3498db;">سجل الدخول</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Job Details Modal -->
    <div class="modal" id="jobDetailsModalContainer">
        <div class="modal-content" style="max-width: 700px;"> <!-- مودال أكبر للتفاصيل -->
            <div class="modal-header">
                <h3 id="jobDetailsModalTitle">تفاصيل الوظيفة</h3>
                <button class="close-btn" onclick="closeActiveModal()">&times;</button>
            </div>
            <div id="jobDetailsModalContent" style="line-height: 1.8;">
                <!-- يتم تحميل محتوى تفاصيل الوظيفة هنا -->
            </div>
        </div>
    </div>

    <!-- Job Application Modal -->
    <div class="modal" id="jobApplicationModalContainer">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="jobApplicationModalTitle">التقديم على وظيفة: <span></span></h3>
                <button class="close-btn" onclick="closeActiveModal()">&times;</button>
            </div>
            <form id="jobApplicationFormElement" onsubmit="handleSpecificJobApplication(event)">
                <input type="hidden" id="applicationJobIdInput">
                <div class="form-group">
                    <label for="applyNameInput">الاسم الكامل:</label>
                    <input type="text" id="applyNameInput" required>
                </div>
                <div class="form-group">
                    <label for="applyEmailInput">البريد الإلكتروني:</label>
                    <input type="email" id="applyEmailInput" required>
                </div>
                <div class="form-group">
                    <label for="applyPhoneInput">رقم الهاتف:</label>
                    <input type="tel" id="applyPhoneInput">
                </div>
                <div class="form-group">
                    <label for="applyExperienceInput">سنوات الخبرة (رقم):</label>
                    <input type="number" id="applyExperienceInput" min="0" required>
                </div>
                <div class="form-group">
                    <label for="applyCoverLetterTextarea">رسالة تعريفية (اختياري):</label>
                    <textarea id="applyCoverLetterTextarea" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label for="applyResumeFileInput">رفع السيرة الذاتية (PDF, DOC, DOCX):</label>
                    <input type="file" id="applyResumeFileInput" accept=".pdf,.doc,.docx" required>
                </div>
                <button type="submit" class="submit-btn">إرسال الطلب</button>
            </form>
        </div>
    </div>
    
    <!-- General Application Modal -->
    <div class="modal" id="generalApplicationModalContainer">
        <div class="modal-content">
            <div class="modal-header">
                <h3>تقديم عام للسيرة الذاتية</h3>
                <button class="close-btn" onclick="closeActiveModal()">&times;</button>
            </div>
            <form id="generalApplicationFormElement" onsubmit="handleGeneralCvSubmission(event)">
                 <div class="form-group">
                    <label for="generalApplyNameInput">الاسم الكامل:</label>
                    <input type="text" id="generalApplyNameInput" required>
                </div>
                <div class="form-group">
                    <label for="generalApplyEmailInput">البريد الإلكتروني:</label>
                    <input type="email" id="generalApplyEmailInput" required>
                </div>
                <div class="form-group">
                    <label for="generalApplyPhoneInput">رقم الهاتف:</label>
                    <input type="tel" id="generalApplyPhoneInput">
                </div>
                <div class="form-group">
                    <label for="generalDesiredFieldSelect">مجال الاهتمام الرئيسي:</label>
                    <select id="generalDesiredFieldSelect" required>
                        <option value="">-- اختر المجال --</option>
                        </select>
                </div>
                <div class="form-group">
                    <label for="generalApplyExperienceInput">سنوات الخبرة (رقم):</label>
                    <input type="number" id="generalApplyExperienceInput" min="0" required>
                </div>
                <div class="form-group">
                    <label for="generalApplyBioTextarea">نبذة مختصرة عنك:</label>
                    <textarea id="generalApplyBioTextarea" rows="4" placeholder="مهاراتك، طموحاتك..."></textarea>
                </div>
                <div class="form-group">
                    <label for="generalApplyResumeFileInput">رفع السيرة الذاتية (PDF, DOC, DOCX):</label>
                    <input type="file" id="generalApplyResumeFileInput" accept=".pdf,.doc,.docx" required>
                </div>
                <button type="submit" class="submit-btn">إرسال السيرة الذاتية</button>
            </form>
        </div>
    </div>

    <!-- Admin Panel (Initially hidden) -->
    <section class="admin-panel" id="adminDashboardPanel" style="display:none;">
        <div class="container">
            <h2>لوحة التحكم الإدارية</h2>
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="adminJobsContent">إدارة الوظائف</button>
                <button class="admin-tab" data-tab="adminApplicationsContent">طلبات التوظيف</button>
                <button class="admin-tab" data-tab="adminUsersContent">إدارة المستخدمين</button>
                <button class="admin-tab" data-tab="adminAnalyticsContent">تحليلات عامة</button>
            </div>

            <div class="admin-content active" id="adminJobsContent">
                <div style="margin-bottom: 1.5rem; text-align: left;">
                    <button class="cta-button" onclick="openAddJobModal()" style="background-color: #3498db;">
                        <i class="fas fa-plus-circle"></i> إضافة وظيفة جديدة
                    </button>
                </div>
                <table class="data-table">
                    <thead><tr><th>العنوان</th><th>القسم</th><th>الموقع</th><th>تاريخ النشر</th><th>الإجراءات</th></tr></thead>
                    <tbody id="adminJobsTableBody"></tbody>
                </table>
            </div>
            <div class="admin-content" id="adminApplicationsContent">
                 <table class="data-table">
                    <thead><tr><th>المتقدم</th><th>الوظيفة</th><th>تاريخ التقديم</th><th>الحالة</th><th>الإجراءات</th></tr></thead>
                    <tbody id="adminApplicationsTableBody"></tbody>
                </table>
            </div>
            <div class="admin-content" id="adminUsersContent">
                <table class="data-table">
                    <thead><tr><th>الاسم</th><th>البريد</th><th>الهاتف</th><th>تاريخ الانضمام</th><th>النوع</th><th>الإجراءات</th></tr></thead>
                    <tbody id="adminUsersTableBody"></tbody>
                </table>
            </div>
            <div class="admin-content" id="adminAnalyticsContent">
                <div class="culture-grid" style="gap: 1.5rem;">
                    <div class="culture-card"><h3>إجمالي الوظائف</h3><div style="font-size: 2.5rem; color: #3498db; font-weight: bold;" id="analyticsTotalJobs">0</div></div>
                    <div class="culture-card"><h3>إجمالي الطلبات</h3><div style="font-size: 2.5rem; color: #27ae60; font-weight: bold;" id="analyticsTotalApplications">0</div></div>
                    <div class="culture-card"><h3>المستخدمون المسجلون</h3><div style="font-size: 2.5rem; color: #e74c3c; font-weight: bold;" id="analyticsTotalUsers">0</div></div>
                    <div class="culture-card"><h3>طلبات جديدة (آخر 7 أيام)</h3><div style="font-size: 2.5rem; color: #f39c12; font-weight: bold;" id="analyticsNewApplications">0</div></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Add/Edit Job Modal (for Admin) -->
    <div class="modal" id="addEditJobModalContainer">
        <div class="modal-content" style="max-width: 650px;">
            <div class="modal-header">
                <h3 id="addEditJobModalTitle">إضافة وظيفة جديدة</h3>
                <button class="close-btn" onclick="closeActiveModal()">&times;</button>
            </div>
            <form id="addEditJobFormElement" onsubmit="handleAdminAddEditJob(event)">
                <input type="hidden" id="editingJobIdInput">
                <div class="form-group">
                    <label for="adminJobTitleInput">عنوان الوظيفة:</label>
                    <input type="text" id="adminJobTitleInput" required>
                </div>
                <div class="form-group">
                    <label for="adminJobDepartmentSelect">القسم:</label>
                    <select id="adminJobDepartmentSelect" required></select>
                </div>
                <div class="form-group">
                    <label for="adminJobLocationSelect">الموقع:</label>
                    <select id="adminJobLocationSelect" required></select>
                </div>
                <div class="form-group">
                    <label for="adminJobTypeSelect">نوع الدوام:</label>
                    <select id="adminJobTypeSelect" required></select>
                </div>
                <div class="form-group">
                    <label for="adminJobDescriptionTextarea">الوصف الكامل:</label>
                    <textarea id="adminJobDescriptionTextarea" rows="5" required></textarea>
                </div>
                <div class="form-group">
                    <label for="adminJobResponsibilitiesTextarea">المسؤوليات (افصل بينها بأسطر جديدة):</label>
                    <textarea id="adminJobResponsibilitiesTextarea" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label for="adminJobQualificationsTextarea">المؤهلات (افصل بينها بأسطر جديدة):</label>
                    <textarea id="adminJobQualificationsTextarea" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label for="adminJobSkillsTextarea">المهارات (افصل بينها بفواصل ","):</label>
                    <input type="text" id="adminJobSkillsTextarea" placeholder="مثال: JavaScript, React, SQL" required>
                </div>
                <button type="submit" class="submit-btn" id="addEditJobSubmitBtn">إضافة الوظيفة</button>
            </form>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>
</html>